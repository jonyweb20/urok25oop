<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>OOP</title>
</head>
<body>
<script>
    //ООП - объектно-ориентированное программирование
    //является парадигма - это какая-то модель, шаблон (паттерн), которого необходимо придерживаться при решении программы,
    // За основу парадигмы ООП взято понятие АБСТРАКЦИЯ
    // Абстракция - какая-то не конкретизирующая СУЩНОСТЬ
    //Пример: Человек, статьи на сайте, заявка в банке - сущности
    //Все программное обеспечивание  - это абстракция , скрывающая всю тяжелую работу и детали. Предоставляя пользователю лишь интерфейс взаимодействия.
    //Основй ООП структурно являются классы, появились в ES6
    // class - это шаблон, чертеж описания сущности
    class Tank {
        //внутри класса мы можем создавать:
        // 1) Свойства (поля класса/fields)  - это характеристики сущности. Пример: кол-во снарядов, кол-во гусениц и т.д.
        //2) Методы/methods - по сути, это функции класса. Это то что может делать сущность. Пример: ездить, стрелять и т.д.
      /*  tankName = ``; //поле класса
        ammunition = 0;*/
        constructor(tankName, ammunition = 5) {
            this.tankName = tankName;
            this.ammunition = ammunition;
        }

//this - ключевое слово, позволяет обращаться к объектам в пределах контекста использования, т.е. обращение к свойствам и методам класса, внутри самого класса осуществляется через this
        //методы
        moveTo (x, y){
            console.log(`Координаты движения танка ${this.tankName} ${x}, ${y}`)
        }
        fireTo(x, y){
            console.log(`Открыть огонь по координатам  (${x}, ${y})`);
            if (this._canFire(this.ammunition)){
                this.ammunition -=1;
            console.log(`Снарядов у танка ${this.tankName} осталось ${this.ammunition}`)
        } else {
                console.log(`Снаряды закончились. Стрельба невозможна`)
            }
        }
        moveAndFire (moveX, moveY, fireX, fireY) {
            this.moveTo(moveX, moveY);
            this.fireTo(fireX, fireY)

        }

        // метод для проверки "могу ли я стрелять"
        // если перед методом или свойством написано _ то это свойство или метод являются закрытыми и не должны вызываться за пределами класса. Такое именование чисто условное  и придумано сообществом разработчиков, по факту, этот метод ничем не отличается от других.
        _canFire(ammunition){
            return ammunition > 0;
        }

    }


    //ank() -  в скобках передаются значения в  constructor ла
   const t34 = new Tank(`T34`, 100); //создали экземпляр (объект) класса - сущность, и занесли его в переменную Т34. После этого, переменная t34 имеет доступ к свойствам и методам класса Tank.
    const kv = new Tank(`Клим Ворошилов`, 1);



    t34.moveTo(45, 12);
    t34.fireTo(11.2, 53);
    t34.fireTo(11.2, 53);
    t34.fireTo(11.2, 53);
    t34.fireTo(11.2, 53);
    t34.fireTo(11.2, 53);
    kv.fireTo(22,33);
    kv.fireTo(44, 66);
    kv.moveAndFire(64, 754, 21.2, 53.56)
    //
</script>
</body>
</html>